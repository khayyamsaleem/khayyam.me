version: '2'

services:
  personalsite:
    image: registry.gitlab.com/khayyamsaleem/personalsite_v2:latest
    networks:
      - web
    ports:
      - "1313:1313"
    labels:
      traefik.enable: "true"
      traefik.http.routers.personalsite.rule: "Host(`khayyam.me`)"
      traefik.http.routers.static.entrypoints: https
      traefik.docker.network: "server_webgateway"
    restart: always

networks:
  web:
    external:
      name: server_webgateway
